var makeVideoPlayableInline=function(){"use strict";function e(e){var t={start:function n(){if(!t.lastCall){t.lastCall=Date.now()}e(Date.now()-t.lastCall);t.lastCall=Date.now();t.id=requestAnimationFrame(t.start)},stop:function i(){cancelAnimationFrame(t.id);delete t.id;delete t.lastCall}};return t}function t(e,t,n,i){var a=function u(t){var a=n&&e[n];delete e[n];if(!!a===!!i){t.stopImmediatePropagation()}};e.addEventListener(t,a,false);return{forget:function r(){return e.removeEventListener(t,a,false)}}}function n(e,t,n){Object.defineProperty(e,t,{get:function i(){return n[t]},set:function a(e){return n[t]=e}})}var i=/iPhone|iPod/i.test(navigator.userAgent);function a(e){var t=new Audio;t.src=e.currentSrc||e.src;return t}function u(e){var t=this;if(t.audio){var n=t.audio.currentTime;t.video.currentTime=n}else{var i=t.video.currentTime+e/1e3;t.video.currentTime=Math.min(t.video.duration,i)}if(t.video.ended){t.video.pause()}}function r(e){e.iaAutomatedEvent=true;e._play();setTimeout(function(){e.iaAutomatedEvent=true;e._pause()},0)}function o(){var e=this;var t=e.__ivp;if(!e.buffered.length){r(e)}t.paused=false;if(t.audio){t.audio.play()}else if(e.currentTime===e.duration){e.currentTime=0}t.updater.start();e.dispatchEvent(new Event("play"));e.dispatchEvent(new Event("playing"))}function d(){var e=this;var t=e.__ivp;t.paused=true;t.updater.stop();if(t.audio){t.audio.pause()}e.dispatchEvent(new Event("pause"));if(e.ended){e.dispatchEvent(new Event("ended"))}}function s(t,n){var i=t.__ivp={};i.paused=true;i.loop=t.loop;i.muted=t.muted;i.video=t;if(n){i.audio=a(t)}i.updater=e(u.bind(i));t.addEventListener("webkitbeginfullscreen",function(){t.pause()});if(i.audio){t.addEventListener("webkitendfullscreen",function(){i.audio.currentTime=i.video.currentTime})}}function v(e){var i=e.__ivp;e._play=e.play;e._pause=e.pause;e.play=o;e.pause=d;n(e,"paused",i);n(e,"loop",i);n(e,"muted",i);t(e,"seeking");t(e,"seeked");t(e,"play","iaAutomatedEvent",true);t(e,"playing","iaAutomatedEvent",true);t(e,"pause","iaAutomatedEvent",true)}function l(e){var t=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var n=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(n&&!i){return}s(e,t);v(e)}return l}();
