var makeVideoPlayableInline=function(){"use strict";function e(e){var r=void 0;var n=void 0;function t(i){r=requestAnimationFrame(t);e(i-(n||i));n=i}this.start=function(){if(!r){t(Date.now())}};this.stop=function(){cancelAnimationFrame(r);r=null}}function r(e,r,n,t){function i(r){if(Boolean(e[n])===Boolean(t)){r.stopImmediatePropagation()}delete e[n]}e.addEventListener(r,i,false);return i}function n(e,r,n,t){function i(){return n[r]}function u(e){n[r]=e}if(t){u(e[r])}Object.defineProperty(e,r,{get:i,set:u})}var t=typeof Symbol==="undefined"?function(e){return"@"+(e||"@")+Math.random()}:Symbol;var i=/iPhone|iPod/i.test(navigator.userAgent);var u=t();var a=t();var d=t("nativeplay");var o=t("nativepause");function s(e){var r=new Audio;r.src=e.currentSrc||e.src;return r}var f=[];f.i=0;function v(e,r){if((f.tue||0)+200<Date.now()){e[a]=true;f.tue=Date.now()}e.currentTime=r;f[++f.i%3]=r*100|0/100}function c(e){return e.driver.currentTime>=e.video.duration}function l(e){var r=this;if(!r.hasAudio){r.driver.currentTime=r.video.currentTime+e*r.video.playbackRate/1e3;if(r.video.loop&&c(r)){r.driver.currentTime=0}}v(r.video,r.driver.currentTime);if(r.video.ended){r.video.pause(true);return false}}function p(){var e=this;var r=e[u];if(e.webkitDisplayingFullscreen){e[d]();return}if(!e.paused){return}r.paused=false;if(!e.buffered.length){e.load()}r.driver.play();r.updater.start();e.dispatchEvent(new Event("play"));e.dispatchEvent(new Event("playing"))}function m(e){var r=this;var n=r[u];n.driver.pause();n.updater.stop();if(r.webkitDisplayingFullscreen){r[o]()}if(n.paused&&!e){return}n.paused=true;r.dispatchEvent(new Event("pause"));if(r.ended){r[a]=true;r.dispatchEvent(new Event("ended"))}}function y(r,n){var t=r[u]={};t.paused=true;t.hasAudio=n;t.video=r;t.updater=new e(l.bind(t));if(n){t.driver=s(r)}else{t.driver={muted:true,paused:true,pause:function i(){t.driver.paused=true},play:function a(){t.driver.paused=false;if(c(t)){v(r,0)}},get ended(){return c(t)}}}r.addEventListener("emptied",function(){if(t.driver.src&&t.driver.src!==r.currentSrc){v(r,0);r.pause();t.driver.src=r.currentSrc}},false);r.addEventListener("webkitbeginfullscreen",function(){if(!r.paused){r.pause();r[d]()}else if(n&&!t.driver.buffered.length){t.driver.load()}});if(n){r.addEventListener("webkitendfullscreen",function(){t.driver.currentTime=r.currentTime});r.addEventListener("seeking",function(){if(f.indexOf(r.currentTime*100|0/100)<0){t.driver.currentTime=r.currentTime}})}}function h(e){var t=e[u];e[d]=e.play;e[o]=e.pause;e.play=p;e.pause=m;n(e,"paused",t.driver);n(e,"muted",t.driver,true);n(e,"playbackRate",t.driver,true);n(e,"ended",t.driver);n(e,"loop",t.driver,true);r(e,"seeking");r(e,"seeked");r(e,"timeupdate",a,false);r(e,"ended",a,false)}function b(e){var r=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var n=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(n&&!i||e[u]){return}y(e,r);h(e);if(!r&&e.autoplay){e.play()}}return b}();
